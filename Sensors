import javax.sound.sampled.Port;
import lejos.hardware.Button;
import lejos.hardware.ev3.LocalEV3;
import lejos.hardware.motor.Motor;
import lejos.hardware.port.MotorPort;
import lejos.hardware.port.SensorPort;
import lejos.hardware.sensor.*;
import lejos.robotics.SampleProvider;
import lejos.utility.Delay;
import lejos.hardware.motor.EV3LargeRegulatedMotor;
public class Sensors {
	private static EV3UltrasonicSensor us1 = new EV3UltrasonicSensor(SensorPort.S1);
	static EV3LargeRegulatedMotor motorC=new EV3LargeRegulatedMotor(MotorPort.C);
	static EV3LargeRegulatedMotor motorD=new EV3LargeRegulatedMotor(MotorPort.D);
	static EV3ColorSensor  cs=new EV3ColorSensor(SensorPort.S2);
	public static void main(String[] args) throws InterruptedException {
		
	    final SampleProvider sp = us1.getDistanceMode();
        int distanceValue = 0;
        SensorMode csp =cs.getRedMode();
        float colorvalue = 0;
         while(!Button.ESCAPE.isDown())
            {
            	float [] sample = new float[sp.sampleSize()];
    		    sp.fetchSample(sample, 0);
                distanceValue = (int)(sample[0]*100);
            	 System.out.println("Distance: " + distanceValue);
            	 Thread.sleep(3000);
            	 
            	 motorC.setSpeed(100);    //public SensorMode getRedMode()
            	 motorD.setSpeed(100);   //EV3ColorSensor
            	
            	float [] colorsample = new float[csp.sampleSize()];
     		    sp.fetchSample(colorsample, 0);
     		    colorvalue = (colorsample[0]); 
     		    System.out.println("Color: " + colorvalue);
     		    Thread.sleep(3000);
     		    if(colorvalue>=0.5) {
     		   // if(distanceValue>= 45){
            		 
            		 motorC.forward();
    	       		 motorD.forward();
    	       		 }
     		    else {
	       			motorC.stop();
	       			motorD.stop();
	       		 }
        
     		   /* }
     		    else {
    	       			motorC.stop();
    	       			motorD.stop();
    	       			
    	       		 }*/
             
            }
            
            System.exit(0);
        }
	}
 

